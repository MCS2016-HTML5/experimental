<html>
<head>
<title>選択肢選択</title>
<script type="text/javascript">
<!--
var charchecknum = 1;   					//許容文字数
function CharCheck(){
	if(document.all || document.getElementById){	
		var str = document.SelectFrom.select.value;
		if(str.length >= charchecknum){		//許容文字数を超えている場合
			str = str.substring(0, charchecknum);//許容文字数にする
			document.SelectFrom.select.value = str;	//フォーム文に許容文字数を設定
		}
	}
}
//ボタンでの入力
function addTF(str)
{
	document.SelectFrom.select.value += str;
}
//テキストボックス内を消去する
function clr(){

  document.SelectFrom.select.value="";

}
function check(){

	var flag = 0;


	if(document.SelectFrom.select.value.match(/[^1-3]+/)){

		flag = 1;

	}
	else if(document.SelectFrom.select.value.match(/[^1-3]+/)){

		flag = 1;

	}


	if(flag){

		window.alert('1.2.3以外が入力されています'); // 1.2.3以外の数字以外が入力された場合は警告ダイアログを表示
		return false; // 確定を中止

	}
	else{

		return true; // 確定を実行

	}

}

// --></script>
</head>
<body>
<center>
<h1>選択肢</h1> 
<form name="SelectFrom">
 <input type="text" name="select" onkeydown="CharCheck()" onkeyup="CharCheck()"><br>
 <input type="button" value="1" onClick="addTF(this.value);CharCheck();"><br>
 <input type="button" value="2" onClick="addTF(this.value);CharCheck();"><br>
 <input type="button" value="3" onClick="addTF(this.value);CharCheck();"><br>
 <input type="button" value="選択し直す" onClick="clr()"
</form>
<p><button type="submit" onClick="check()" name="selfin" value="確定">確定</button></p>
</center>
</body>
</html>
